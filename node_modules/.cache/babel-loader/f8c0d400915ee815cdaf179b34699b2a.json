{"ast":null,"code":"import classes from\"./request.module.css\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import ProfilePicture from\"../Misc/profilePicture\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Request(props){console.log(props.requestData);var request=props.requestData;var options={year:\"numeric\",month:\"long\",day:\"numeric\",hour:'2-digit',minute:'2-digit'};var date=new Date(request.requestTimestamp).toLocaleDateString(undefined,options);var border=\"transparent\";var status=\"Pending\";if(request.status===\"accepted\"){border=\"#499e44\";status=\"Email: \"+request.fromUserEmail;}else if(request.status==\"declined\"){border=\"#b03a3a\";status=\"Declined\";}function answerRequest(answer){if(window.confirm(\"Are you sure you to \"+answer+\" this request?\")===true){axios.post(process.env.REACT_APP_API+\"/requests/answer\",{requestID:request.requestID,answer:answer},{withCredentials:true}).then(function(response){console.log(response.data);if(response.data.error===true){console.log(response.data.message);}else{window.location.reload(false);}});}}return/*#__PURE__*/_jsxs(\"div\",{className:classes.request,style:{border:\"2px solid \"+border},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.requestHeader,children:[/*#__PURE__*/_jsx(ProfilePicture,{firstName:request.firstName,profilePicture:request.profilePicture}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:\"10px\"},children:[/*#__PURE__*/_jsxs(\"h1\",{className:classes.requestTitle,children:[/*#__PURE__*/_jsxs(Link,{to:\"/user?id=\"+request.fromUser,children:[request.firstName,\" \",request.lastName,\" \"]}),\" would like to join \",/*#__PURE__*/_jsx(Link,{to:\"/feed?postID=\"+request.postID,children:request.postTitle})]}),/*#__PURE__*/_jsx(\"p\",{className:classes.requestDate,children:date})]})]}),request.message?/*#__PURE__*/_jsx(\"div\",{className:classes.requestMessage,children:request.message}):null,/*#__PURE__*/_jsx(\"div\",{className:classes.requestInteractions,children:request.status===\"pending\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){answerRequest(\"accept\");},className:classes.requestAcceptBtn,children:\"Accept\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){answerRequest(\"decline\");},className:classes.requestDeclineBtn,children:\"Decline\"})]}):status})]});}export default Request;","map":{"version":3,"sources":["C:/Dev/MERN-Project/client/src/components/Requests/request.js"],"names":["classes","Link","useNavigate","axios","ProfilePicture","Request","props","console","log","requestData","request","options","year","month","day","hour","minute","date","Date","requestTimestamp","toLocaleDateString","undefined","border","status","fromUserEmail","answerRequest","answer","window","confirm","post","process","env","REACT_APP_API","requestID","withCredentials","then","response","data","error","message","location","reload","requestHeader","firstName","profilePicture","paddingLeft","requestTitle","fromUser","lastName","postID","postTitle","requestDate","requestMessage","requestInteractions","requestAcceptBtn","requestDeclineBtn"],"mappings":"AAAA,MAAOA,CAAAA,OAAP,KAAoB,sBAApB,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,C,6IAEA,QAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAAwB,CACtBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,WAAlB,EACE,GAAMC,CAAAA,OAAO,CAAGJ,KAAK,CAACG,WAAtB,CAEA,GAAME,CAAAA,OAAO,CAAG,CAAEC,IAAI,CAAE,SAAR,CAAmBC,KAAK,CAAE,MAA1B,CAAkCC,GAAG,CAAE,SAAvC,CAAkDC,IAAI,CAAE,SAAxD,CAAmEC,MAAM,CAAE,SAA3E,CAAhB,CACA,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAASR,OAAO,CAACS,gBAAjB,EAAmCC,kBAAnC,CAAsDC,SAAtD,CAAiEV,OAAjE,CAAb,CAEA,GAAIW,CAAAA,MAAM,CAAG,aAAb,CACA,GAAIC,CAAAA,MAAM,CAAG,SAAb,CACA,GAAGb,OAAO,CAACa,MAAR,GAAmB,UAAtB,CAAiC,CAC/BD,MAAM,CAAG,SAAT,CACAC,MAAM,CAAG,UAAUb,OAAO,CAACc,aAA3B,CACD,CAHD,IAGM,IAAGd,OAAO,CAACa,MAAR,EAAkB,UAArB,CAAgC,CACpCD,MAAM,CAAG,SAAT,CACAC,MAAM,CAAG,UAAT,CACD,CAED,QAASE,CAAAA,aAAT,CAAuBC,MAAvB,CAA8B,CAC5B,GAAGC,MAAM,CAACC,OAAP,CAAe,uBAAuBF,MAAvB,CAA8B,gBAA7C,IAAmE,IAAtE,CAA2E,CACzEvB,KAAK,CAAC0B,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,aAAZ,CAA4B,kBAAvC,CAA2D,CAAEC,SAAS,CAAEvB,OAAO,CAACuB,SAArB,CAAgCP,MAAM,CAANA,MAAhC,CAA3D,CAAqG,CAACQ,eAAe,CAAE,IAAlB,CAArG,EAA8HC,IAA9H,CAAmI,SAACC,QAAD,CAAc,CAC/I7B,OAAO,CAACC,GAAR,CAAY4B,QAAQ,CAACC,IAArB,EACE,GAAGD,QAAQ,CAACC,IAAT,CAAcC,KAAd,GAAwB,IAA3B,CAAgC,CAC5B/B,OAAO,CAACC,GAAR,CAAY4B,QAAQ,CAACC,IAAT,CAAcE,OAA1B,EACH,CAFD,IAEK,CACDZ,MAAM,CAACa,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACH,CACJ,CAPD,EAQD,CACF,CAEH,mBACE,aAAK,SAAS,CAAEzC,OAAO,CAACU,OAAxB,CAAiC,KAAK,CAAE,CAACY,MAAM,CAAE,aAAaA,MAAtB,CAAxC,wBACI,aAAK,SAAS,CAAEtB,OAAO,CAAC0C,aAAxB,wBACE,KAAC,cAAD,EAAgB,SAAS,CAAEhC,OAAO,CAACiC,SAAnC,CAA8C,cAAc,CAAEjC,OAAO,CAACkC,cAAtE,EADF,cAEE,aAAK,KAAK,CAAE,CAACC,WAAW,CAAE,MAAd,CAAZ,wBACE,YAAI,SAAS,CAAE7C,OAAO,CAAC8C,YAAvB,wBAAqC,MAAC,IAAD,EAAM,EAAE,CAAE,YAAcpC,OAAO,CAACqC,QAAhC,WAA2CrC,OAAO,CAACiC,SAAnD,KAA+DjC,OAAO,CAACsC,QAAvE,OAArC,qCAAiJ,KAAC,IAAD,EAAM,EAAE,CAAE,gBAAgBtC,OAAO,CAACuC,MAAlC,UAA2CvC,OAAO,CAACwC,SAAnD,EAAjJ,GADF,cAEE,UAAG,SAAS,CAAElD,OAAO,CAACmD,WAAtB,UAAoClC,IAApC,EAFF,GAFF,GADJ,CAQMP,OAAO,CAAC6B,OAAR,cAAkB,YAAK,SAAS,CAAEvC,OAAO,CAACoD,cAAxB,UAAyC1C,OAAO,CAAC6B,OAAjD,EAAlB,CAAoF,IAR1F,cASI,YAAK,SAAS,CAAEvC,OAAO,CAACqD,mBAAxB,UACI3C,OAAO,CAACa,MAAR,GAAmB,SAAnB,cAA+B,wCACjC,YAAK,OAAO,CAAE,kBAAM,CAACE,aAAa,CAAC,QAAD,CAAb,CAAwB,CAA7C,CAA+C,SAAS,CAAEzB,OAAO,CAACsD,gBAAlE,oBADiC,cAEjC,YAAK,OAAO,CAAE,kBAAM,CAAC7B,aAAa,CAAC,SAAD,CAAb,CAAyB,CAA9C,CAAgD,SAAS,CAAEzB,OAAO,CAACuD,iBAAnE,qBAFiC,GAA/B,CAGIhC,MAJR,EATJ,GADF,CAkBD,CAED,cAAelB,CAAAA,OAAf","sourcesContent":["import classes from \"./request.module.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ProfilePicture from \"../Misc/profilePicture\";\r\n\r\nfunction Request(props) {\r\n  console.log(props.requestData)\r\n    const request = props.requestData;\r\n\r\n    const options = { year: \"numeric\", month: \"long\", day: \"numeric\", hour: '2-digit', minute: '2-digit'}\r\n    const date = new Date(request.requestTimestamp).toLocaleDateString(undefined, options);\r\n\r\n    let border = \"transparent\";\r\n    let status = \"Pending\"\r\n    if(request.status === \"accepted\"){\r\n      border = \"#499e44\";\r\n      status = \"Email: \"+request.fromUserEmail;\r\n    }else if(request.status == \"declined\"){\r\n      border = \"#b03a3a\";\r\n      status = \"Declined\";\r\n    }\r\n\r\n    function answerRequest(answer){\r\n      if(window.confirm(\"Are you sure you to \"+answer+\" this request?\") === true){\r\n        axios.post(process.env.REACT_APP_API + \"/requests/answer\", { requestID: request.requestID, answer }, {withCredentials: true}).then((response) => {\r\n          console.log(response.data)\r\n            if(response.data.error === true){\r\n                console.log(response.data.message);\r\n            }else{\r\n                window.location.reload(false);\r\n            }\r\n        });\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div className={classes.request} style={{border: \"2px solid \"+border}}>\r\n        <div className={classes.requestHeader}>\r\n          <ProfilePicture firstName={request.firstName} profilePicture={request.profilePicture}/>\r\n          <div style={{paddingLeft: \"10px\"}}>\r\n            <h1 className={classes.requestTitle}><Link to={\"/user?id=\" + request.fromUser}>{request.firstName} {request.lastName} </Link> would like to join <Link to={\"/feed?postID=\"+request.postID}>{request.postTitle}</Link></h1>\r\n            <p className={classes.requestDate}>{date}</p>\r\n          </div>\r\n        </div>\r\n        { request.message ? <div className={classes.requestMessage}>{request.message}</div> : null }\r\n        <div className={classes.requestInteractions}>\r\n          { request.status === \"pending\" ? <>\r\n          <div onClick={() => {answerRequest(\"accept\")}} className={classes.requestAcceptBtn}>Accept</div>\r\n          <div onClick={() => {answerRequest(\"decline\")}} className={classes.requestDeclineBtn}>Decline</div>\r\n          </> : status }\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Request;\r\n"]},"metadata":{},"sourceType":"module"}