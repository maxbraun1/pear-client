{"ast":null,"code":"import _slicedToArray from\"C:\\\\Dev\\\\MERN-Project\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import Post from\"../posts/post/post\";import classes from\"./profile.module.css\";import DefaultCover from\"../../assets/images/defaultCover.png\";import HeartIcon from\"../../assets/icons/heartIcon-liked.svg\";import PostIcon from\"../../assets/icons/lightbulbIcon.svg\";import CalendarIcon from\"../../assets/icons/calendarIcon.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PublicProfile(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),bio=_useState6[0],setBio=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),accountDate=_useState8[0],setAccountDate=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),profilePicture=_useState10[0],setProfilePicture=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),profileBacksplash=_useState12[0],setProfileBacksplash=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),posts=_useState14[0],setPosts=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),postCount=_useState16[0],setPostCount=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),likedCount=_useState18[0],setLikedCount=_useState18[1];useEffect(function(){if(props.userID!=null){axios.post(process.env.REACT_APP_API+'/users/public',{userID:props.userID}).then(function(response){if(response.data===false){console.log(\"error\");}else{var user=response.data;setFirstName(user.firstName);setLastName(user.lastName);setBio(user.bio);setPosts(user.posts.reverse());setAccountDate(user.accountDate);setProfilePicture(user.profilePicture);setProfileBacksplash(user.profileBacksplash);setPostCount(user.postCount);setLikedCount(user.likedCount);}});}},[props.userID]);function getMemberDate(timestamp){var options={year:\"numeric\",month:\"long\"};var date=new Date(timestamp).toLocaleDateString(undefined,options);return date;}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.profileWrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.profileCoverPhoto,style:{backgroundImage:\"url(\".concat(profileBacksplash?profileBacksplash:DefaultCover,\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:classes.profileFlex,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.profileLeftBar,children:[firstName&&profilePicture===null?/*#__PURE__*/_jsx(\"p\",{className:classes.profileChar,children:firstName.charAt(0).toUpperCase()}):null,profilePicture!==null?/*#__PURE__*/_jsx(\"div\",{className:classes.profilePicture,style:{backgroundImage:\"url(\".concat(profilePicture,\")\")}}):null,/*#__PURE__*/_jsx(\"div\",{className:classes.profileName,children:firstName+\" \"+lastName}),/*#__PURE__*/_jsx(\"div\",{className:classes.profileBio,children:bio}),/*#__PURE__*/_jsxs(\"div\",{className:classes.pofileInfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.profileInfoStat,children:[/*#__PURE__*/_jsx(\"img\",{src:PostIcon}),/*#__PURE__*/_jsx(\"span\",{className:classes.profileStatTitle,children:\"Posts: \"}),postCount]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.profileInfoStat,children:[/*#__PURE__*/_jsx(\"img\",{src:HeartIcon}),/*#__PURE__*/_jsx(\"span\",{className:classes.profileStatTitle,children:\"Liked Posts: \"}),likedCount]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.profileInfoStat,children:[/*#__PURE__*/_jsx(\"img\",{src:CalendarIcon}),/*#__PURE__*/_jsx(\"span\",{className:classes.profileStatTitle,children:\"Joined: \"}),getMemberDate(accountDate)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.profileRight,children:/*#__PURE__*/_jsx(\"div\",{className:classes.postsWrapper,children:posts.length>0?posts.map(function(post){return/*#__PURE__*/_jsx(Post,{postID:post},post);}):null})})]})]})});}export default PublicProfile;","map":{"version":3,"sources":["C:/Dev/MERN-Project/client/src/components/profile/publicProfile.js"],"names":["useState","useEffect","axios","Post","classes","DefaultCover","HeartIcon","PostIcon","CalendarIcon","PublicProfile","props","firstName","setFirstName","lastName","setLastName","bio","setBio","accountDate","setAccountDate","profilePicture","setProfilePicture","profileBacksplash","setProfileBacksplash","posts","setPosts","postCount","setPostCount","likedCount","setLikedCount","userID","post","process","env","REACT_APP_API","then","response","data","console","log","user","reverse","getMemberDate","timestamp","options","year","month","date","Date","toLocaleDateString","undefined","profileWrapper","profileCoverPhoto","backgroundImage","profileFlex","profileLeftBar","profileChar","charAt","toUpperCase","profileName","profileBio","pofileInfo","profileInfoStat","profileStatTitle","profileRight","postsWrapper","length","map"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"../posts/post/post\";\r\nimport classes from \"./profile.module.css\";\r\nimport DefaultCover from \"../../assets/images/defaultCover.png\";\r\nimport HeartIcon from \"../../assets/icons/heartIcon-liked.svg\";\r\nimport PostIcon from \"../../assets/icons/lightbulbIcon.svg\";\r\nimport CalendarIcon from \"../../assets/icons/calendarIcon.svg\";\r\n\r\nfunction PublicProfile(props) {\r\n    const [firstName,setFirstName] = useState(null);\r\n    const [lastName,setLastName] = useState(null);\r\n    const [bio,setBio] = useState(null);\r\n    const [accountDate,setAccountDate] = useState(null);\r\n    const [profilePicture,setProfilePicture] = useState(null);\r\n    const [profileBacksplash,setProfileBacksplash] = useState(null);\r\n    const [posts,setPosts] = useState([]);\r\n    const [postCount,setPostCount] = useState(0);\r\n    const [likedCount,setLikedCount] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        if(props.userID != null){\r\n            axios.post(process.env.REACT_APP_API + '/users/public',{ userID: props.userID }).then(function (response) {\r\n                if(response.data === false){\r\n                    console.log(\"error\");\r\n                }else{\r\n                    const user = response.data;\r\n                    setFirstName(user.firstName);\r\n                    setLastName(user.lastName);\r\n                    setBio(user.bio);\r\n                    setPosts(user.posts.reverse());\r\n                    setAccountDate(user.accountDate);\r\n                    setProfilePicture(user.profilePicture);\r\n                    setProfileBacksplash(user.profileBacksplash);\r\n                    setPostCount(user.postCount);\r\n                    setLikedCount(user.likedCount);\r\n                }\r\n            });\r\n        }\r\n    },[props.userID])\r\n\r\n    function getMemberDate(timestamp){\r\n        const options = { year: \"numeric\", month: \"long\"}\r\n        const date = new Date(timestamp).toLocaleDateString(undefined, options);\r\n        return date;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <div className={classes.profileWrapper}>\r\n            <div className={classes.profileCoverPhoto} style={{backgroundImage: `url(${ profileBacksplash ? profileBacksplash : DefaultCover})`}}></div>\r\n            <div className={classes.profileFlex}>\r\n                <div className={classes.profileLeftBar}>\r\n                    { firstName && profilePicture === null ? <p className={classes.profileChar}>{firstName.charAt(0).toUpperCase()}</p> : null }\r\n                    { profilePicture !== null ? <div className={classes.profilePicture} style={{backgroundImage: `url(${profilePicture})`}}></div> : null }\r\n                    <div className={classes.profileName}>{firstName + \" \" + lastName}</div>\r\n                    <div className={classes.profileBio}>{bio}</div>\r\n                    <div className={classes.pofileInfo}>\r\n                        <div className={classes.profileInfoStat}><img src={PostIcon}/><span className={classes.profileStatTitle}>Posts: </span>{postCount}</div>\r\n                        <div className={classes.profileInfoStat}><img src={HeartIcon}/><span className={classes.profileStatTitle}>Liked Posts: </span>{likedCount}</div>\r\n                        <div className={classes.profileInfoStat}><img src={CalendarIcon}/><span className={classes.profileStatTitle}>Joined: </span>{getMemberDate(accountDate)}</div>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.profileRight}>\r\n                    <div className={classes.postsWrapper}>\r\n                        { posts.length > 0 ? posts.map((post) => (<Post key={post} postID={post} />)) : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PublicProfile;"]},"metadata":{},"sourceType":"module"}