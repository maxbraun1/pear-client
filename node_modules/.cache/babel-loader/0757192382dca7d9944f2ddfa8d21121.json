{"ast":null,"code":"import _slicedToArray from\"C:\\\\Dev\\\\MERN-Project\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import NavBar from\"../components/layout/navBar\";import classes from\"../components/Auth/AuthForm.module.css\";import{Link,useNavigate}from\"react-router-dom\";import{useState,useContext}from'react';import axios from'axios';import{LoggedContext}from'../App';import GoogleLoginButton from\"../components/Auth/googleLoginButton\";import AuthLayout from\"../components/layout/auth-layout/authLayout\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useContext=useContext(LoggedContext),loggedStatus=_useContext.loggedStatus,checkLoggedStatus=_useContext.checkLoggedStatus;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function login(e){// Prevent page reload\ne.preventDefault();// Create newUser Json Object\nvar user={username:username,password:password};axios.post(process.env.REACT_APP_API+'/auth/login',user,{withCredentials:true}).then(function(response){if(response.data===true){checkLoggedStatus();navigate(\"/feed\");}}).catch(function(error){console.log(error);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(AuthLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.AuthForm,children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Log In\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Username or Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"Login\"}),/*#__PURE__*/_jsx(GoogleLoginButton,{method:\"Sign In\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register Here\"})]})]})})]});}export default Login;","map":{"version":3,"sources":["C:/Dev/MERN-Project/client/src/pages/Login.js"],"names":["NavBar","classes","Link","useNavigate","useState","useContext","axios","LoggedContext","GoogleLoginButton","AuthLayout","Login","navigate","loggedStatus","checkLoggedStatus","username","setUsername","password","setPassword","login","e","preventDefault","user","post","process","env","REACT_APP_API","withCredentials","then","response","data","catch","error","console","log","AuthForm","target","value"],"mappings":"yHAAA,MAAOA,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wCAApB,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,OAArC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,QAA9B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sCAA9B,CACA,MAAOC,CAAAA,UAAP,KAAuB,6CAAvB,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CAEf,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,gBAA0CE,UAAU,CAACE,aAAD,CAApD,CAAOK,YAAP,aAAOA,YAAP,CAAqBC,iBAArB,aAAqBA,iBAArB,CAEA,cAAgCT,QAAQ,CAAC,IAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAgCX,QAAQ,CAAC,IAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eAEA,QAASC,CAAAA,KAAT,CAAeC,CAAf,CAAiB,CACf;AACAA,CAAC,CAACC,cAAF,GAEA;AACA,GAAMC,CAAAA,IAAI,CAAG,CACXP,QAAQ,CAAEA,QADC,CAEXE,QAAQ,CAAEA,QAFC,CAAb,CAKAV,KAAK,CAACgB,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,aAAZ,CAA4B,aAAvC,CAAqDJ,IAArD,CAA0D,CAACK,eAAe,CAAE,IAAlB,CAA1D,EACCC,IADD,CACM,SAAUC,QAAV,CAAoB,CACxB,GAAGA,QAAQ,CAACC,IAAT,GAAkB,IAArB,CAA0B,CACxBhB,iBAAiB,GACjBF,QAAQ,CAAC,OAAD,CAAR,CACD,CACF,CAND,EAOCmB,KAPD,CAOO,SAAUC,KAAV,CAAiB,CACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATD,EAUD,CAED,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,KAAC,UAAD,wBACE,aAAK,SAAS,CAAE9B,OAAO,CAACiC,QAAxB,wBACE,qCACE,8BADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAoB,QAAQ,CAAE,kBAACf,CAAD,QAAOJ,CAAAA,WAAW,CAACI,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAlB,EAA9B,CAAkE,WAAW,CAAC,mBAA9E,EAFF,cAGE,cAAO,IAAI,CAAC,UAAZ,CAAwB,QAAQ,CAAE,kBAACjB,CAAD,QAAOF,CAAAA,WAAW,CAACE,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAlB,EAAlC,CAAsE,WAAW,CAAC,UAAlF,EAHF,cAIE,eAAQ,OAAO,CAAElB,KAAjB,mBAJF,cAKE,KAAC,iBAAD,EAAmB,MAAM,CAAC,SAA1B,EALF,GADF,cAQE,4DAA0B,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,2BAA1B,GARF,GADF,EAFF,GADF,CAiBD,CAED,cAAeR,CAAAA,KAAf","sourcesContent":["import NavBar from \"../components/layout/navBar\";\r\nimport classes from \"../components/Auth/AuthForm.module.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { LoggedContext } from '../App';\r\nimport GoogleLoginButton from \"../components/Auth/googleLoginButton\";\r\nimport AuthLayout from \"../components/layout/auth-layout/authLayout\";\r\n\r\nfunction Login() {\r\n\r\n  const navigate = useNavigate();\r\n  const {loggedStatus, checkLoggedStatus} = useContext(LoggedContext);\r\n\r\n  const [username, setUsername] = useState(null);\r\n  const [password, setPassword] = useState(null);\r\n\r\n  function login(e){\r\n    // Prevent page reload\r\n    e.preventDefault();\r\n\r\n    // Create newUser Json Object\r\n    const user = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    axios.post(process.env.REACT_APP_API + '/auth/login',user,{withCredentials: true})\r\n    .then(function (response) {\r\n      if(response.data === true){\r\n        checkLoggedStatus();\r\n        navigate(\"/feed\");\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <NavBar />\r\n      <AuthLayout>\r\n        <div className={classes.AuthForm}>\r\n          <form>\r\n            <h1>Log In</h1>\r\n            <input type=\"text\"  onChange={(e) => setUsername(e.target.value)} placeholder=\"Username or Email\"></input>\r\n            <input type=\"password\"  onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\"></input>\r\n            <button onClick={login}>Login</button>\r\n            <GoogleLoginButton method=\"Sign In\"></GoogleLoginButton>\r\n          </form>\r\n          <p>Don't have an account? <Link to=\"/register\">Register Here</Link></p>\r\n        </div>\r\n      </AuthLayout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}