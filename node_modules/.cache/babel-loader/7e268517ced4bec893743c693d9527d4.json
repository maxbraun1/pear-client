{"ast":null,"code":"var _jsxFileName = \"C:\\\\Dev\\\\MERN-Project\\\\client\\\\src\\\\components\\\\Requests\\\\request.js\";\nimport classes from \"./request.module.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ProfilePicture from \"../Misc/profilePicture\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Request(props) {\n  console.log(props.requestData);\n  const request = props.requestData;\n  const options = {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: '2-digit',\n    minute: '2-digit'\n  };\n  const date = new Date(request.requestTimestamp).toLocaleDateString(undefined, options);\n  let border = \"transparent\";\n  let status = \"Pending\";\n\n  if (request.status === \"accepted\") {\n    border = \"#499e44\";\n    status = \"Email: \" + request.fromUserEmail;\n  } else if (request.status == \"declined\") {\n    border = \"#b03a3a\";\n    status = \"Declined\";\n  }\n\n  function answerRequest(answer) {\n    if (window.confirm(\"Are you sure you to \" + answer + \" this request?\") === true) {\n      axios.post(process.env.REACT_APP_API + \"/requests/answer\", {\n        requestID: request.requestID,\n        answer\n      }, {\n        withCredentials: true\n      }).then(response => {\n        console.log(response.data);\n\n        if (response.data.error === true) {\n          console.log(response.data.message);\n        } else {\n          window.location.reload(false);\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.request,\n    style: {\n      border: \"2px solid \" + border\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.requestHeader,\n      children: [/*#__PURE__*/_jsxDEV(ProfilePicture, {\n        firstName: request.firstName,\n        profilePicture: request.profilePicture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          paddingLeft: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: classes.requestTitle,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/user?id=\" + request.fromUser,\n            children: [request.firstName, \" \", request.lastName, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 50\n          }, this), \" would like to join \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/feed?postID=\" + request.postID,\n            children: request.postTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 158\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.requestDate,\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), request.message ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.requestMessage,\n      children: request.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.requestInteractions,\n      children: request.status === \"pending\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            answerRequest(\"accept\");\n          },\n          className: classes.requestAcceptBtn,\n          children: \"Accept\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            answerRequest(\"decline\");\n          },\n          className: classes.requestDeclineBtn,\n          children: \"Decline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Request;\nexport default Request;\n\nvar _c;\n\n$RefreshReg$(_c, \"Request\");","map":{"version":3,"sources":["C:/Dev/MERN-Project/client/src/components/Requests/request.js"],"names":["classes","Link","useNavigate","axios","ProfilePicture","Request","props","console","log","requestData","request","options","year","month","day","hour","minute","date","Date","requestTimestamp","toLocaleDateString","undefined","border","status","fromUserEmail","answerRequest","answer","window","confirm","post","process","env","REACT_APP_API","requestID","withCredentials","then","response","data","error","message","location","reload","requestHeader","firstName","profilePicture","paddingLeft","requestTitle","fromUser","lastName","postID","postTitle","requestDate","requestMessage","requestInteractions","requestAcceptBtn","requestDeclineBtn"],"mappings":"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","sourcesContent":["import classes from \"./request.module.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ProfilePicture from \"../Misc/profilePicture\";\r\n\r\nfunction Request(props) {\r\n  console.log(props.requestData)\r\n    const request = props.requestData;\r\n\r\n    const options = { year: \"numeric\", month: \"long\", day: \"numeric\", hour: '2-digit', minute: '2-digit'}\r\n    const date = new Date(request.requestTimestamp).toLocaleDateString(undefined, options);\r\n\r\n    let border = \"transparent\";\r\n    let status = \"Pending\"\r\n    if(request.status === \"accepted\"){\r\n      border = \"#499e44\";\r\n      status = \"Email: \"+request.fromUserEmail;\r\n    }else if(request.status == \"declined\"){\r\n      border = \"#b03a3a\";\r\n      status = \"Declined\";\r\n    }\r\n\r\n    function answerRequest(answer){\r\n      if(window.confirm(\"Are you sure you to \"+answer+\" this request?\") === true){\r\n        axios.post(process.env.REACT_APP_API + \"/requests/answer\", { requestID: request.requestID, answer }, {withCredentials: true}).then((response) => {\r\n          console.log(response.data)\r\n            if(response.data.error === true){\r\n                console.log(response.data.message);\r\n            }else{\r\n                window.location.reload(false);\r\n            }\r\n        });\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div className={classes.request} style={{border: \"2px solid \"+border}}>\r\n        <div className={classes.requestHeader}>\r\n          <ProfilePicture firstName={request.firstName} profilePicture={request.profilePicture}/>\r\n          <div style={{paddingLeft: \"10px\"}}>\r\n            <h1 className={classes.requestTitle}><Link to={\"/user?id=\" + request.fromUser}>{request.firstName} {request.lastName} </Link> would like to join <Link to={\"/feed?postID=\"+request.postID}>{request.postTitle}</Link></h1>\r\n            <p className={classes.requestDate}>{date}</p>\r\n          </div>\r\n        </div>\r\n        { request.message ? <div className={classes.requestMessage}>{request.message}</div> : null }\r\n        <div className={classes.requestInteractions}>\r\n          { request.status === \"pending\" ? <>\r\n          <div onClick={() => {answerRequest(\"accept\")}} className={classes.requestAcceptBtn}>Accept</div>\r\n          <div onClick={() => {answerRequest(\"decline\")}} className={classes.requestDeclineBtn}>Decline</div>\r\n          </> : status }\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Request;\r\n"]},"metadata":{},"sourceType":"module"}